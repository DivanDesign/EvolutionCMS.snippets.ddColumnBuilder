# (MODX)EvolutionCMS.snippets.ddColumnBuilder changelog


## Версия 6.1 (2023-06-03)
* \+ Параметры → `source_items`: Также может быть задан, как нативный PHP массив, а не только в виде строки с разделителем.
* \+ Параметры → `placeholders`: Также может быть задан, как [HJSON](https://hjson.github.io/) или как нативный PHP объект/массив.
* \+ Запустить сниппет без DB и eval можно через `\DDTools\Snippet::runSnippet` (см. README → Примеры).
* \* `\ddTools::getTpl` используется вместо `$modx->getTpl` (стало чуть меньше багов).
* \+ README:
	* \+ Установка → Используя (MODX)EvolutionCMS.libraries.ddInstaller.
	* \+ Ссылки.
* \+ README_ru, CHANGELOG_ru.
* \+ Composer.json.
* \* Внимание! Требуется (MODX)EvolutionCMS.libraries.ddTools >= 0.60.


## Версия 6.0 (2019-10-02)
* \* Параметры → `tpls_outer` → Плейсхолдеры:
	* \+ `[+itemsTotal+]`: Новый плейсхолдер.
	* \* Следующие переименованы:
		* \* `[+columnsNumber+]` → `[+columnsTotal+]`.
		* \* `[+result+]` → `[+snippetResult+]`.
* \* Исправлена ошибка с пустой последней колонкой.
* \* Внимание! Нарушена обратная совместимость.


## Версия 5.0 (2017-07-06)
* \* Сниппет более не работает с плейсхолдерами MODX, вместо этого просто передавайте элементы, склеенные через `source_itemsDelimiter` в параметр `source_items`.
* \+ Параметры → `placeholders`: Добавлена поддержка формата JSON.
* \- Параметры → `dittoId`: Параметр удалён.
* \* Параметры: Следующие переименованы:
	* \* `source` → `source_items`.
	* \* `sourceDelimiter` → `source_itemsDelimiter`.
	* \* `rowsMin` → `minItemsInColumn`.
	* \* `columnTpl` → `tpls_column`.
	* \* `columnLastTpl` → `tpls_columnLast`.
	* \* `outerTpl` → `tpls_outer`.
* \+ Параметры → `tpls_column`: Более не обязателен и по умолчанию равен `@CODE:<div>[+items+]</div>`.
* \* Плейсхолдер `[+rows+]` переименован в `[+items+]`.
* \* Внимание! Нарушена обратная совместимость.
* \* Внимание! Требуется (MODX)EvolutionCMS.libraries.ddTools >= 0.20.


## Версия 4.1 (2016-10-16)
* \+ Параметры → `columnTpl` → Плейсхолдеры → `[+columnNumber+]`: Новый плейсхолдер.
* \+ Параметры → `placeholders`: Новый параметр. Позволяет передавать дополнительные данные в шаблон `outerTpl`.
* \+ Добавлена поддержка префикса `@CODE:` во всех шаблонах сниппета.
* \* Короткий синтаксис массивов используется потому, что он более удобен.
* \* Внимание! Требуется PHP >= 5.4.
* \* Внимание! Требуется (MODX)EvolutionCMS >= 1.1.


## Версия 4.0 (2015-05-21)
* \* Если колонка последняя, но при этом единственная — используется шаблон `columnTpl`.
* \* Параметры → `outerTpl` → Плейсхолдеры → `[+result+]`: Переименован из `[+wrapper+]`.
* \* Параметры → `columnTpl`, `columnLastTpl` → Плейсхолдеры → `[+rows+]`: Переименован из `[+wrapper+]`.


## Версия 3.4 (2014-07-03)
* \+ Добавлена возможность использовать произвольный источники данных (см. параметр `source`).
* \* Исправлен алгоритм распределения по колонкам при сортировке по колонкам. При небольшом количестве элементов, не кратном количеству колонок, могло получиться меньше колонок, чем задано.
* \* Переносы строк в Unix стиле.


## Версия 3.3 (2014-03-13)
* \+ Параметры → `outerTpl`:
	* \+ Новый параметр. Позволяет возвращать результат сниппета в чанк.
	* \+ Плейсхолдеры → `[+columnsNumber+]`: Новый плейсхолдер. Содержит фактическое количество колонок.


## Версия 3.2.1 (2014-03-13)
* \* Исправлена ошибка при обращении к несуществующему элементу массива (когда количество элементов меньше, чем количество колонок).


## Версия 3.2 (2013-07-11)
* \+ Параметры → `orderBy`: Новый параметр. Позволяет задать сортировку элементов по строкам (слева направо → сверху вниз).
* \* Исправлена ошибка с `rowsMin` (переменная там не использовалась, получалось, что параметр бесполезен).


## Версия 3.1 (2013-03-22)
* \* Сниппет теперь сам не запускает Ditto, а получает его результаты из плэйсхолдера. Ditto надо запускать с параметром save=\`3\` (чтобы результаты сохранялись в плэйсхолдер) перед вызовом ddGetColumnData.
* \- Удалены все параметры, связанные с Ditto, кроме `dittoId` (он нам пригодится).
* \- Также за ненадобностью удалены параметры `rowTpl`, `hereTpl` и `splitter`.


## Версия 3.0 (2013-02-21)
* \* Сниппет переименован в `ddGetColumnData`.
* \* Параметры: Следующие переименованы:
	* \* `countColoumns` → `columnsNumber`.
	* \* `coloumnRowTpl` → `columnTpl`.
	* \* `coloumnLastTpl` → `columnLastTpl`.
* \+ Параметры → `rowsMin`: Новый параметр. Минимальное количество строк в полностью заполненном столбце.


<link rel="stylesheet" type="text/css" href="https://raw.githack.com/DivanDesign/CSS.ddMarkdown/master/style.min.css" />
<style>ul{list-style:none;}</style>